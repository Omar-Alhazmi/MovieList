(this["webpackJsonpmovie-list"]=this["webpackJsonpmovie-list"]||[]).push([[0],{116:function(e,t){},120:function(e,t,a){},138:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(20),r=a.n(i),l=(a(82),a(33)),o=a(21),s=a(22),m=a(25),u=a(23),v=a(26),h=(a(83),a(144)),d=a(149),g=a(151),p=a(150),f=a(70),E=a(145),b=function(e){return c.a.createElement("div",{className:"co"},c.a.createElement(h.a,null,c.a.createElement(d.a,{bg:"dark",variant:"dark"},c.a.createElement(d.a.Brand,{href:"#home"},"Navbar"),c.a.createElement(g.a,{className:"mr-auto"},c.a.createElement(g.a.Link,{href:"#home"},"Login"),c.a.createElement(g.a.Link,{href:"#features"},"Re"),c.a.createElement(g.a.Link,{href:"#pricing"},"Pricing")),c.a.createElement(p.a,{inline:!0,onSubmit:e.handleDetails},c.a.createElement(f.a,{type:"text",placeholder:"Search",className:"mr-sm-2",onChange:e.handleChange}),c.a.createElement(E.a,{variant:"outline-info"},"Search")))))},k=(a(87),a(88),a(18)),w=a(12),_=(a(89),a(16)),y=(a(103),a(76)),M=a(146),C=a(147),P=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).toggle=function(e){var t=a.state.toggle,n=a.state.open;a.setState({toggle:!t,open:!n,currentID:e})},a.logState=function(){console.log("Drawer now ".concat(a.state.open?"open":"closed"))},a.updatereview=function(e){console.log(e);var t={};t["/name"]=a.state.name,t["/review"]=a.state.review,_.database().ref("reviews").child(e).update(t),a.db.ref("reviews").on("child_changed",(function(e){console.log(e)}))},a.removeAllreview=function(){_.database().db.collection("reviews").doc("DC").delete()},a.deleteDocument=function(e){return a.db.collection("reviews").doc("DC").delete().then((function(e){console.log("Delete: ",e)}))},a.removereview=function(e){_.database().ref("reviews").child(e).remove(),a.db.ref("reviews").on("child_removed",(function(e){var t=a.state.reviews;t=t.filter((function(t){return t.id!==e.key})),a.setState({reviews:t})}))},a.hndClick=function(){var e=a.state.isFave;a.setState({isFave:!e})},a.checked=function(){1!=a.checked&&console.log(a.state.currentID)},a.handleCheckboxChange=function(e){a.setState({checked:e.target.checked})},a.state={open:!1,toggle:!1,reviews:[],name:"",review:"",isFave:!1,currentID:"",checked:!1},a.createreviews=a.createreviews.bind(Object(w.a)(a)),a}return Object(v.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.db=_.database(),this.listenForChange()}},{key:"listenForChange",value:function(){var e=this;this.db.ref("reviews").on("child_added",(function(t){var a={id:t.key,name:t.val().name,review:t.val().review,isFave:t.val().isFave},n=e.state.reviews;n.push(a),e.setState({reviews:n})}))}},{key:"onChangeHandler",value:function(e,t){this.setState(Object(k.a)({},t,e.target.value))}},{key:"createreviews",value:function(){_.database().ref("reviews").push({name:this.state.name,review:this.state.review})}},{key:"render",value:function(){var e=this,t=this.state.isFave,a=this.state.open,n="https://image.tmdb.org/t/p/w780/".concat(this.props.currentMovie.poster_path);return c.a.createElement("div",null,c.a.createElement("div",{class:"movie_card",id:"bright",style:{backgroundImage:"url(".concat(n,")")}},c.a.createElement("div",{class:"info_section"},c.a.createElement("div",{class:"movie_header"},null==this.props.currentMovie.poster_path?c.a.createElement("img",Object(k.a)({className:"locandina",alt:"...",src:"https://p.kindpng.com/picc/s/62-629944_frame-decorative-movie-cinema-empty-frame-film-bingkai.png"},"alt","Movie Image")):c.a.createElement("img",Object(k.a)({className:"locandina",alt:"...",src:"https://image.tmdb.org/t/p/w780/".concat(this.props.currentMovie.poster_path)},"alt","Movie Image")),"  ",c.a.createElement("h1",null,this.props.currentMovie.title),c.a.createElement("h4",null),c.a.createElement("span",{class:"minutes"}),c.a.createElement("p",{class:"type"})),c.a.createElement("div",{class:"movie_desc"},c.a.createElement("p",{class:"text"},this.props.currentMovie.overview)),c.a.createElement("div",{class:"movie_social"},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("i",{className:"material-icons",onClick:this.props.closeMovieDetails},"arrow_back")),c.a.createElement("li",null,c.a.createElement("i",{class:"material-icons",onClick:this.removeAll},"share")),c.a.createElement("li",null,c.a.createElement("i",{className:"material-icons",onClick:this.hndClick,style:t?{color:"red"}:{color:""}},"\ue87d")),c.a.createElement("li",null,c.a.createElement("i",{className:"material-icons",onClick:this.toggle},"chat_bubble")),c.a.createElement("li",null,c.a.createElement("i",{className:"material-icons"},"delete"))))),c.a.createElement("div",{class:"blur_back bright_back"})),this.state.reviews.map((function(t){return c.a.createElement("div",{class:"movie_card",id:"tomb",key:t.id,style:{backgroundImage:"url(".concat(n,")")}},c.a.createElement("div",{class:"info_section"},c.a.createElement("div",{class:"movie_header"},null==e.props.currentMovie.poster_path?c.a.createElement("img",Object(k.a)({className:"locandina",alt:"...",src:"https://p.kindpng.com/picc/s/62-629944_frame-decorative-movie-cinema-empty-frame-film-bingkai.png"},"alt","Movie Image")):c.a.createElement("img",Object(k.a)({className:"locandina",alt:"...",src:"https://image.tmdb.org/t/p/w780/".concat(e.props.currentMovie.poster_path)},"alt","Movie Image")),c.a.createElement("h1",null,t.name),c.a.createElement("h4",null),c.a.createElement("span",{class:"minutes"},c.a.createElement("input",{type:"checkbox",checked:e.state.checked,onChange:e.handleCheckboxChange})),c.a.createElement("p",{class:"type"})),c.a.createElement("div",{class:"movie_desc"},c.a.createElement("p",{class:"text"},t.review,"     ")),c.a.createElement("div",{class:"movie_social"},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("i",{class:"material-icons"},"share")),c.a.createElement("li",null,c.a.createElement("i",{class:"material-icons",onClick:function(){return e.removereview(t.id)}},"\ue87d")),c.a.createElement("li",null,c.a.createElement("i",{class:"material-icons",onClick:function(){return e.toggle(t.id)}},"chat_bubble"))))),c.a.createElement("div",{class:"blur_back tomb_back"}))})),c.a.createElement(y.a,{open:a,onRequestClose:this.toggle},c.a.createElement("div",null,c.a.createElement(M.a,{onSubmit:this.createreviews},c.a.createElement("input",{type:"text",name:"name",placeholder:"Name",onChange:function(t){return e.onChangeHandler(t,"name")},value:this.state.name}),c.a.createElement("label",{for:"vehicle3"}," I Like this movie"),c.a.createElement("input",Object(k.a)({type:"checkbox",onClick:function(t){return e.onChangeHandler(t,"isFave")},value:this.state.isFave,id:"vehicle3",name:"vehicle3"},"value","Boat")),c.a.createElement("input",{type:"textarea",name:"review",placeholder:"review",onChange:function(t){return e.onChangeHandler(t,"review")},value:this.state.review}),c.a.createElement(C.a,{outline:!0,color:"secondary",onClick:this.createreviews},"Submit"),c.a.createElement(C.a,{outline:!0,color:"secondary",onClick:function(){return e.updatereview(e.state.currentID)}},"update")))))}}]),t}(c.a.Component),S=a(74);a(119);function D(e){return c.a.createElement("div",{className:"card__collection clear-fix",onClick:function(){e.viewMovieDetails(e.movieId)}},c.a.createElement("div",{class:"cards cards--three"},null==e.image?c.a.createElement("img",{class:"img-responsive",variant:"top",src:"https://p.kindpng.com/picc/s/62-629944_frame-decorative-movie-cinema-empty-frame-film-bingkai.png",alt:"Movie Image"}):c.a.createElement("img",{class:"img-responsive",variant:"top",src:"https://image.tmdb.org/t/p/w780/".concat(e.image),alt:"Movie Image"}),c.a.createElement("span",{class:"cards--three__rect-1"},c.a.createElement("span",{class:"shadow-1"}),c.a.createElement("p",null,e.title)),c.a.createElement("span",{className:"cards--three__rect-2"},c.a.createElement("span",{className:"shadow-2"})),c.a.createElement("span",{className:"cards--three__circle"}),c.a.createElement("ul",{className:"cards--three__list"},c.a.createElement("li",null,"  ",c.a.createElement("i",null," ",c.a.createElement(S.a,{value:e.voteAverage,maxValue:10,text:"".concat(0===e.voteAverage?"NR":10*e.voteAverage,"%")}))))))}var j=a(148),x=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement(j.a,{className:"cardg"},this.props.content.map((function(t,a){return c.a.createElement(D,{key:a,image:t.poster_path,alt:"Card image cap",movieId:t.id,title:t.title,overview:t.overview,voteAverage:t.vote_average,viewMovieDetails:e.props.viewMovieDetails})})))}}]),t}(c.a.Component),O=(a(120),a(152));function N(e){for(var t=[],a=function(a){t.push(c.a.createElement(O.a.Item,{active:e.currentPage===a?"active":"",key:a,onClick:function(){return e.nextPage(a)||e.nextPageMain(a)}},a))},n=1;n<=10;n++)a(n);return c.a.createElement("div",null,c.a.createElement(O.a,null,e.currentPage>1?c.a.createElement(O.a.Prev,{onClick:function(){return e.nextPage(e.currentPage-1)||e.nextPageMain(e.currentPage-1)}}," ","<"," "):"",t,e.currentPage>=1?c.a.createElement(O.a.Next,{onClick:function(){return e.nextPage(e.currentPage+1)||e.nextPageMain(e.currentPage+1)}}," ",">"):""))}var I=a(32),F=a.n(I),A=(a(137),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).nextPage=function(t){F()({method:"GET",url:"https://api.themoviedb.org/3/search/movie?api_key=".concat(e.apiKey,"&query=").concat(e.state.userseach,"&page=").concat(t)}).then((function(a){console.log(a),console.log("tootalPage is ".concat(a.data.total_pages)),e.setState({content:Object(l.a)(a.data.results),currentPageSearch:t})})).catch((function(e){console.log(e)}))},e.handleDetails=function(t){t.preventDefault();var a="https://api.themoviedb.org/3/search/movie?api_key=".concat(e.apiKey,"&query=").concat(e.state.userseach);F()({method:"GET",url:a}).then((function(t){console.log(t),console.log("Fetching details for ".concat(t.data.results)),console.log(t.data),e.setState({content:Object(l.a)(t.data.results),totalPages:t.data.total_pages})})).catch((function(e){console.log(e)}))},e.handleChange=function(t){e.setState({userseach:t.target.value})},e.nextPageMain=function(t){var a="https://api.themoviedb.org/3/movie/top_rated?api_key=".concat(e.apiKey,"&language=en-US&page=").concat(t);F()({method:"GET",url:a}).then((function(a){console.log(a),console.log("Fetching details for ".concat(a.data.results)),console.log(a.data),e.setState({content:Object(l.a)(a.data.results),currentPage:t})})).catch((function(e){console.log(e)}))},e.handleChange=function(t){e.setState({userseach:t.target.value})},e.viewMovieDetails=function(t){var a=e.state.content.filter((function(e){return e.id===t})),n=a.length>0?a[0]:null;e.setState({currentMovie:n})},e.closeMovieDetails=function(){e.setState({currentMovie:null})},e.state={content:[],userseach:"",totalPages:0,currentPage:1,currentMovie:null},e.apiKey="4fd33d28863c5cbcf0ffb8bb958c5213",e}return Object(v.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state;return c.a.createElement("div",{className:"film-library"},null==e.currentMovie?c.a.createElement("div",null,c.a.createElement(b,{handleDetails:this.handleDetails,handleChange:this.handleChange}),c.a.createElement(x,{content:e.content,viewMovieDetails:this.viewMovieDetails})):c.a.createElement(P,{currentMovie:e.currentMovie,closeMovieDetails:this.closeMovieDetails}),e.totalPages>=2&&null==e.currentMovie?c.a.createElement(N,{currentPageSearch:e.currentPageSearch,pages:e.totalPages,totalMainPages:e.totalMainPages,totalSearchPages:e.totalSearchPages,nextPageMain:this.nextPageMain,nextPage:this.nextPage,currentPage:e.currentPage}):"")}},{key:"componentDidMount",value:function(){var e=this,t="https://api.themoviedb.org/3/movie/top_rated?api_key=".concat(this.apiKey,"&language=en-US");F()({method:"GET",url:t}).then((function(t){console.log(t),console.log("Fetching details for ".concat(t.data.results)),console.log(t.data),e.setState({content:Object(l.a)(t.data.results),totalPages:t.data.total_pages})})).catch((function(e){console.log(e)}))}}]),t}(c.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));_.initializeApp({apiKey:"AIzaSyDMv2Y_7-iIkay5y8rwMZY786ERLB6qKmQ",authDomain:"movielis.firebaseapp.com",databaseURL:"https://movielis.firebaseio.com",projectId:"movielis",storageBucket:"movielis.appspot.com",messagingSenderId:"389292091667"}),r.a.render(c.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},77:function(e,t,a){e.exports=a(138)},82:function(e,t,a){},83:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){}},[[77,1,2]]]);
//# sourceMappingURL=main.a0f315e3.chunk.js.map